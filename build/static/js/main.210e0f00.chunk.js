(this.webpackJsonpshop_proj=this.webpackJsonpshop_proj||[]).push([[0],{101:function(e,t,a){e.exports=a(197)},109:function(e,t){},111:function(e,t){},145:function(e,t){},146:function(e,t){},197:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(98),l=a.n(r),c=a(14),m=a(20),o=a(5),i=a(3);a(95);var d=function(){var e={margin:"0px 5px"},t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(!1),m=Object(o.a)(c,2),d=m[0],u=m[1];return Object(n.useEffect)((function(){Object(i.b)().then((function(e){return l(e)}))}),[d]),s.a.createElement("div",{id:"title",className:"position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light"},s.a.createElement("div",{className:"col-md-5 p-lg-5 mx-auto my-5"},s.a.createElement("h1",{className:"display-4 font-weight-normal"},"Ocean"),s.a.createElement("p",{className:"lead font-weight-normal"},"The most suitable phone is the most beautiful phone for you."),r?s.a.createElement("button",{type:"button",href:"/",className:"btn btn-lg btn-primary",onClick:function(){Object(i.a)(),u(!0)}},"Logout"):s.a.createElement("div",null,s.a.createElement("a",{type:"button",href:"/login",className:"btn btn-lg btn-primary",style:e},"Login"),s.a.createElement("a",{type:"button",href:"/register",className:"btn btn-lg btn-outline-primary",style:e},"Register"))),s.a.createElement("div",{className:"product-device shadow-sm d-none d-md-block"}),s.a.createElement("div",{className:"product-device product-device-2 shadow-sm d-none d-md-block"}))};function u(){var e={width:"80%",height:"300px",borderRadius:"21px 21px 0 0"};return s.a.createElement("div",null,s.a.createElement("div",{className:"d-md-flex flex-md-equal w-100 my-md-3 pl-md-3"},s.a.createElement("div",{className:"bg-dark mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center text-white overflow-hidden"},s.a.createElement("div",{className:"my-3 py-3"},s.a.createElement("h2",{className:"display-5"},"Another headline"),s.a.createElement("p",{className:"lead"},"And an even wittier subheading.")),s.a.createElement("div",{className:"bg-light shadow-sm mx-auto",style:e})),s.a.createElement("div",{className:"bg-light mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden"},s.a.createElement("div",{className:"my-3 p-3"},s.a.createElement("h2",{className:"display-5"},"Another headline"),s.a.createElement("p",{className:"lead"},"And an even wittier subheading.")),s.a.createElement("div",{className:"bg-dark shadow-sm mx-auto",style:e}))),s.a.createElement("div",{className:"d-md-flex flex-md-equal w-100 my-md-3 pl-md-3"},s.a.createElement("div",{className:"bg-light mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden"},s.a.createElement("div",{className:"my-3 p-3"},s.a.createElement("h2",{className:"display-5"},"Another headline"),s.a.createElement("p",{className:"lead"},"And an even wittier subheading.")),s.a.createElement("div",{className:"bg-dark shadow-sm mx-auto",style:e})),s.a.createElement("div",{className:"bg-primary mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center text-white overflow-hidden"},s.a.createElement("div",{className:"my-3 py-3"},s.a.createElement("h2",{className:"display-5"},"Another headline"),s.a.createElement("p",{className:"lead"},"And an even wittier subheading.")),s.a.createElement("div",{className:"bg-light shadow-sm mx-auto",style:e}))),s.a.createElement("div",{className:"d-md-flex flex-md-equal w-100 my-md-3 pl-md-3"},s.a.createElement("div",{className:"bg-light mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden"},s.a.createElement("div",{className:"my-3 p-3"},s.a.createElement("h2",{className:"display-5"},"Another headline"),s.a.createElement("p",{className:"lead"},"And an even wittier subheading.")),s.a.createElement("div",{className:"bg-white shadow-sm mx-auto",style:e})),s.a.createElement("div",{className:"bg-light mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden"},s.a.createElement("div",{className:"my-3 py-3"},s.a.createElement("h2",{className:"display-5"},"Another headline"),s.a.createElement("p",{className:"lead"},"And an even wittier subheading.")),s.a.createElement("div",{className:"bg-white shadow-sm mx-auto",style:e}))),s.a.createElement("div",{className:"d-md-flex flex-md-equal w-100 my-md-3 pl-md-3"},s.a.createElement("div",{className:"bg-light mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden"},s.a.createElement("div",{className:"my-3 p-3"},s.a.createElement("h2",{className:"display-5"},"Another headline"),s.a.createElement("p",{className:"lead"},"And an even wittier subheading.")),s.a.createElement("div",{className:"bg-white shadow-sm mx-auto",style:e})),s.a.createElement("div",{className:"bg-light mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden"},s.a.createElement("div",{className:"my-3 py-3"},s.a.createElement("h2",{className:"display-5"},"Another headline"),s.a.createElement("p",{className:"lead"},"And an even wittier subheading.")),s.a.createElement("div",{className:"bg-white shadow-sm mx-auto",style:e}))))}var p=function(){return s.a.createElement("div",null,s.a.createElement(d,null),s.a.createElement(u,null))};var h=function(){return s.a.createElement("div",null)};var b=function(){return s.a.createElement("div",null)},E=a(16),g=a(17);a(96);var f=function(){var e=Object(n.useState)({username:"",password:""}),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),d=i[0],u=i[1];function p(e){var t=e.target,a=t.name,n=t.value;r((function(e){return Object(g.a)({},e,Object(E.a)({},a,n))}))}return d?s.a.createElement(m.a,{to:{pathname:"/secondAuth",state:{info:a}}}):s.a.createElement("div",{className:"text-center"},s.a.createElement("form",{className:"form-signin"},s.a.createElement("img",{className:"mb-4",src:"login.jpg",alt:"",width:"72",height:"72"}),s.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please sign in"),s.a.createElement("label",{htmlFor:"inputEmail",className:"sr-only"},"Email address"),s.a.createElement("input",{type:"email",name:"username",id:"inputEmail",className:"form-control",placeholder:"Email address",required:"",autoFocus:"",value:a.username,onChange:p}),s.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"Password"),s.a.createElement("input",{type:"password",name:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:"",value:a.password,onChange:p}),s.a.createElement("div",{className:"checkbox mb-3"},s.a.createElement(c.b,{to:"/forgotpassword"},"forgot password ?")),s.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",onClick:function(e){e.preventDefault(),u(!0)},type:"submit"},"Go to next step")))};var v=function(){var e=Object(m.g)(),t=Object(n.useState)(0),a=Object(o.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(0),d=Object(o.a)(c,2),u=d[0],p=d[1];return 1===u?s.a.createElement(m.a,{to:"/"}):-1===u?s.a.createElement(m.a,{to:"/login"}):s.a.createElement("div",{className:"starter-template",style:{padding:"0 35%"}},s.a.createElement("h1",null,"Second authentication "),s.a.createElement("p",{className:"lead"}," Get the code in google Authenticator ",s.a.createElement("br",null)," Put it in here "),s.a.createElement("label",{htmlFor:"code",className:"sr-only"},"Your code here"),s.a.createElement("input",{id:"code",name:"code",type:"text",className:"form-control",placeholder:"000000",required:"",value:r,onChange:function(e){l(e.target.value)}}),s.a.createElement("button",{style:{marginTop:"20px"},type:"button",className:"btn btn-primary",onClick:function(){var t=e.state.info;t.code=r,fetch(i.d+"/login",{method:"post",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){401===e.status?(Object(i.c)("Wrong email or password"),p(-1)):200===e.status?(Object(i.c)("Login success"),p(1)):Object(i.c)("Login failed")}))}}," Submit ")," ")};a(194).config();var y=function(){var e=Object(n.useState)({username:"",password:"",repeatpass:""}),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),c=Object(o.a)(l,2),d=c[0],u=c[1],p=Object(n.useState)(!1),h=Object(o.a)(p,2),b=h[0],f=h[1];function v(e){"password"===e.target.name&&function(e){var t=e,a=document.getElementById("length"),n=document.getElementById("lowercase"),s=document.getElementById("uppercase"),r=document.getElementById("number"),l=document.getElementById("special");!function(e){return e.length>=8}(t)?a.classList.remove("list-group-item-success"):a.classList.add("list-group-item-success"),function(e){return/[a-z]/.test(e)}(t)?n.classList.add("list-group-item-success"):n.classList.remove("list-group-item-success"),function(e){return/[A-Z]/.test(e)}(t)?s.classList.add("list-group-item-success"):s.classList.remove("list-group-item-success"),function(e){return/[0-9]/.test(e)}(t)?r.classList.add("list-group-item-success"):r.classList.remove("list-group-item-success"),function(e){return/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g.test(e)}(t)?l.classList.add("list-group-item-success"):l.classList.remove("list-group-item-success")}(e.target.value);var t=e.target,a=t.name,n=t.value;r((function(e){return Object(g.a)({},e,Object(E.a)({},a,n))}))}return b?s.a.createElement(m.a,{to:{pathname:"/register2auth",state:{qr:d}}}):s.a.createElement("div",{className:"text-center"},s.a.createElement("form",{className:"form-signin"},s.a.createElement("img",{className:"mb-4",src:"register.png",alt:"",width:"72",height:"72"}),s.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Register"),s.a.createElement("label",{htmlFor:"inputEmail",className:"sr-only"},"Email address"),s.a.createElement("input",{type:"email",name:"username",id:"inputEmail",className:"form-control",placeholder:"Email address",required:"",value:a.username,onChange:v}),s.a.createElement("label",{htmlFor:"password",className:"sr-only"},"Password"),s.a.createElement("input",{id:"password",name:"password",type:"password",className:"form-control",placeholder:"Password",required:"",value:a.password,onChange:v}),s.a.createElement("label",{htmlFor:"repeatPassword",className:"sr-only"},"Repeat Password"),s.a.createElement("input",{type:"password",name:"repeatpass",id:"repeatPassword",className:"form-control",placeholder:"RepeatPassword",required:"",value:a.repeatpass,onChange:v}),s.a.createElement("ul",{className:"lead list-group",id:"requirements"},s.a.createElement("li",{id:"length",className:"list-group-item"},"At least 8 characters"),s.a.createElement("li",{id:"lowercase",className:"list-group-item"},"At least 1 lowercase letter"),s.a.createElement("li",{id:"uppercase",className:"list-group-item"},"At least 1 uppercase letter"),s.a.createElement("li",{id:"number",className:"list-group-item"},"At least 1 numerical number"),s.a.createElement("li",{id:"special",className:"list-group-item"},"At least 1 special character")),s.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",onClick:function(e){if(e.preventDefault(),a.password!==a.repeatpass)Object(i.c)("Password don't match"),r(Object(g.a)({},a,{repeatpass:""}));else{if(document.getElementsByClassName("list-group-item-success").length<5)return Object(i.c)("Not strong enough!"),void r(Object(g.a)({},a,{password:"",repeatpass:""}));fetch(i.d+"/register",{method:"post",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e),"failed"!==e?(Object(i.c)("Register success"),u(e),f(!0)):(Object(i.c)("email already exist"),r({username:"",password:"",repeatpass:""}))}))}}},"Sign up")))};var w=function(){return s.a.createElement("div",null)};var N=function(){var e=Object(n.useState)({username:"",answer:""}),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),c=Object(o.a)(l,2),d=c[0],u=c[1];function p(e){var t=e.target,a=t.name,n=t.value;r((function(e){return Object(g.a)({},e,Object(E.a)({},a,n))}))}return d?s.a.createElement(m.a,{to:{pathname:"/resetpassword",state:{username:a.username}}}):s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"py-5 text-center"},s.a.createElement("img",{className:"d-block mx-auto mb-4",src:"forgot_password.jpg",alt:"",width:"200",height:"200"}),s.a.createElement("h2",null,"Please answer to reset password"),s.a.createElement("p",{className:"lead"},"Below is an KBA question, you have to answer to reset your password.")),s.a.createElement("div",{className:"mb-3"},s.a.createElement("label",{htmlFor:"username"},"What is your email?"),s.a.createElement("input",{type:"email",name:"username",className:"form-control",id:"username",placeholder:"Type here",value:a.username,onChange:p}),s.a.createElement("label",{htmlFor:"answer"},"Where did you meet your spouse?"),s.a.createElement("input",{type:"text",name:"answer",className:"form-control",id:"answer",placeholder:"Type here",value:a.answer,onChange:p})),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){fetch(i.d+"/forgotpassword",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){"OK"===e?(Object(i.c)("Good answer"),u(!0)):(Object(i.c)("failed"),r({username:"",answer:""}))}))}},"Submit"))};var j=function(){var e=Object(m.g)(),t=Object(n.useState)({username:e.state.username,password:"",repeatpass:""}),a=Object(o.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(!1),d=Object(o.a)(c,2),u=d[0],p=d[1];function h(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(g.a)({},e,Object(E.a)({},a,n))}))}return u?s.a.createElement(m.a,{to:"/"}):s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"py-5 text-center"},s.a.createElement("img",{className:"d-block mx-auto mb-4",src:"forgot_password.jpg",alt:"",width:"200",height:"200"}),s.a.createElement("h2",null,"Reset password here:"),s.a.createElement("p",{className:"lead"},"Type your new password.")),s.a.createElement("div",{className:"mb-3"},s.a.createElement("label",{htmlFor:"password"},"What is your new password?"),s.a.createElement("input",{type:"password",name:"password",className:"form-control",id:"password",placeholder:"Type here",value:r.password,onChange:h}),s.a.createElement("label",{htmlFor:"repeatpass"},"Repeat password"),s.a.createElement("input",{type:"password",name:"repeatpass",className:"form-control",id:"repeatpass",placeholder:"Type here",value:r.repeatpass,onChange:h})),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){fetch(i.d+"/resetpassword",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){"OK"===e?(Object(i.c)("reset successfully"),p(!0)):(Object(i.c)("reset failed"),l({password:"",repeatpass:""}))}))}},"Submit"))};var x=function(){var e=Object(m.g)().state.qr;return Object(n.useEffect)((function(){document.getElementById("qr").innerHTML=e}),[e]),s.a.createElement("div",null,s.a.createElement("p",{style:{textAlign:"center"}},"Use google authenticator to scan this for next login"),s.a.createElement("div",{id:"qr",style:{width:"200px",marginLeft:"40%"}}),s.a.createElement(c.b,{type:"button",style:{marginLeft:"50%"},className:"btn btn-primary",to:"/"},"Next"))};var O=function(){return s.a.createElement(m.d,null,s.a.createElement(m.b,{path:"/",exact:!0,children:s.a.createElement(p,null)}),s.a.createElement(m.b,{path:"/login",children:s.a.createElement(f,null)}),s.a.createElement(m.b,{path:"/secondauth",children:s.a.createElement(v,null)}),s.a.createElement(m.b,{path:"/register",children:s.a.createElement(y,null)}),s.a.createElement(m.b,{path:"/register2auth",children:s.a.createElement(x,null)}),s.a.createElement(m.b,{path:"/account",children:s.a.createElement(h,null)}),s.a.createElement(m.b,{path:"/forgotpassword",children:s.a.createElement(N,null)}),s.a.createElement(m.b,{path:"/resetpassword",children:s.a.createElement(j,null)}),s.a.createElement(m.b,{path:"/admin",children:s.a.createElement(b,null)}),s.a.createElement(m.b,{path:"/shop/:item",children:s.a.createElement(w,null)}))};var C=function(){return s.a.createElement(c.a,null,s.a.createElement(O,null))};l.a.render(s.a.createElement(C,null),document.getElementById("root"))},3:function(e,t,a){"use strict";(function(e){a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c}));var n=a(25),s=a.n(n),r=(a(108),a(188),"http://localhost:5000");function l(){return fetch(r+"/checkAuth",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){return"OK"===e}))}function c(){return fetch(r+"/logout",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}t.c=function(e){var t;s.a.fire({title:e,html:"Type again in <b></b> milliseconds.",timer:2e3,timerProgressBar:!0,onBeforeOpen:function(){s.a.showLoading(),t=setInterval((function(){var e=s.a.getContent();if(e){var t=e.querySelector("b");t&&(t.textContent=s.a.getTimerLeft())}}),100)},onClose:function(){clearInterval(t)}}).then((function(e){e.dismiss===s.a.DismissReason.timer&&console.log("I was closed by the timer")}))}}).call(this,a(7).Buffer)},95:function(e,t,a){},96:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.210e0f00.chunk.js.map